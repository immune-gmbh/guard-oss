import ImmuneLink from 'components/elements/Button/Link';
import getConfig from 'next/config';

interface IAuthServiceButton extends React.HTMLAttributes<HTMLDivElement> {
  service: string;
  icon?: boolean;
}

export const SERVICE_ICONS = {
  github:
    'M9.00088 0.915726C4.41231 0.913871 0.695801 4.62852 0.695801 9.21338C0.695801 12.839 3.0207 15.9209 6.2585 17.0527C6.69453 17.1622 6.62774 16.8523 6.62774 16.6408V15.2028C4.10986 15.4979 4.00781 13.8316 3.83896 13.5533C3.49756 12.9707 2.69043 12.8223 2.93164 12.544C3.50498 12.2489 4.08945 12.6182 4.7667 13.6183C5.25654 14.3438 6.21211 14.2213 6.69639 14.1007C6.80215 13.6647 7.02852 13.275 7.34024 12.9726C4.73145 12.505 3.64414 10.913 3.64414 9.02041C3.64414 8.10196 3.94658 7.25772 4.54033 6.57676C4.16182 5.4542 4.57559 4.49307 4.63125 4.3502C5.70928 4.25371 6.82998 5.12207 6.91719 5.19073C7.52949 5.02559 8.229 4.93838 9.01201 4.93838C9.79873 4.93838 10.5001 5.0293 11.118 5.19629C11.3276 5.03672 12.3667 4.29082 13.3687 4.38174C13.4225 4.52461 13.827 5.46348 13.4707 6.5712C14.0719 7.25401 14.378 8.10567 14.378 9.02598C14.378 10.9223 13.2833 12.5161 10.6671 12.9763C10.8912 13.1966 11.0691 13.4595 11.1905 13.7494C11.3119 14.0393 11.3743 14.3505 11.374 14.6648V16.7522C11.3889 16.9191 11.374 17.0843 11.6523 17.0843C14.9384 15.9766 17.3041 12.8724 17.3041 9.21524C17.3041 4.62852 13.5857 0.915726 9.00088 0.915726Z',
  google:
    'M17.6686 8.30783C17.7813 8.91192 17.8427 9.5435 17.8427 10.2026C17.8427 15.3579 14.3924 19.0237 9.18114 19.0237C7.99603 19.024 6.82247 18.7909 5.7275 18.3375C4.63254 17.8842 3.63763 17.2195 2.79964 16.3815C1.96164 15.5435 1.29697 14.5486 0.843621 13.4536C0.390267 12.3587 0.15711 11.1851 0.157471 10C0.15711 8.8149 0.390267 7.64133 0.843621 6.54637C1.29697 5.4514 1.96164 4.4565 2.79964 3.6185C3.63763 2.7805 4.63254 2.11584 5.7275 1.66248C6.82247 1.20913 7.99603 0.975973 9.18114 0.976334C11.6176 0.976334 13.6536 1.87283 15.2156 3.3285L12.6718 5.87225V5.86583C11.7249 4.96383 10.5231 4.50092 9.18114 4.50092C6.2038 4.50092 3.7838 7.01625 3.7838 9.9945C3.7838 12.9718 6.2038 15.4927 9.18114 15.4927C11.8826 15.4927 13.7214 13.9481 14.0991 11.8269H9.18114V8.30783H17.6695H17.6686Z',
};

export default function AuthServiceButton({
  service,
  icon = true,
  children,
}: IAuthServiceButton): JSX.Element {
  const { publicRuntimeConfig } = getConfig();

  const destinationLink = `${publicRuntimeConfig.hosts.authSrv}/v2/oauth/${service}`;

  return (
    <ImmuneLink href={destinationLink} theme="GHOST-WHITE">
      {icon && (
        <svg
          width="18"
          height="18"
          viewBox="0 0 18 20"
          fill="currentColor"
          className="mr-3 text-opacity-50 transform">
          <path fillRule="evenodd" clipRule="evenodd" d={SERVICE_ICONS[service]}></path>
        </svg>
      )}
      {children}
    </ImmuneLink>
  );
}
